function kcCountObj(c){var b=0;for(var a in c){if(c.hasOwnProperty(a)){++b}}return b}function kcsbSlug(a){strNu=a.replace(/^\-+/,"");strNu=strNu.replace(/^_+/,"");strNu=strNu.replace(/[^A-Za-z0-9\-_]/g,"");if(strNu.match(/^\-+/)||strNu.match(/^_+/)){strNu=kcsbSlug(strNu)}return strNu}function invertColor(a){inverted=new RGBColor(a);if(inverted.ok){a="rgb("+(255-inverted.r)+", "+(255-inverted.g)+", "+(255-inverted.b)+")"}return a}(function(a){a.fn.kcGoto=function(b){defaults={offset:-20,speed:800};b=a.extend({},defaults,b);return this.each(function(){var c=a(this);c.fadeIn(function(){a("html, body").stop().animate({scrollTop:(c.offset().top+b.offset)},b.speed)})})};a.fn.kcsbUnique=function(){return this.each(function(){var c=a(this),b=c.val();c.data("olVal",b).blur(function(){var f=a(this),e=c.data("olVal"),d=f.val();if(d!=e&&a.inArray(d,kcSettings._ids[f.data("ids")])>-1){f.val("")}})})};a.fn.kcsbCheck=function(){var b=a(this);if((b.attr("name")==="kcsb[id]"&&b.val()==="id")||b.val()===""){b.val("").focus().css("borderColor","#ff0000");return false}else{b.removeAttr("style")}};a.fn.kcFormDep=function(c){var d={disable:true,callback:function(){}},c=a.extend({},d,c),b=function(g){var f=a(g.target),h=f.val();f.data("depTargets").each(function(){var j=a(this),i=j.data("dep"),e=false;if(!f.prop("disabled")&&(((typeof i==="string"||typeof i==="number")&&i==h)||(typeof i==="object"&&a.inArray(h,i)>-1))){e=true}j.toggle(e);if(c.disable===true){j.find(":input").prop("disabled",!e).trigger("change")}})};return this.each(function(){var e=a(this),g=e.val(),f=(e.data("scope")!==undefined)?e.closest(e.data("scope")).find(e.data("child")):a(e.data("child"));if(f.length){e.data("depTargets",f).change(b).change()}})};a.fn.kcReorder=function(h,d){var g=new RegExp(h+"\\]\\[(\\d+)"),f=new RegExp(h+"\\-(\\d+)"),c=a(this);if(d===true){var e=c.children(),b=0}else{var e=c,b=c.index()}e.each(function(){var i=a(this);i.find(":input").each(function(){this.name=this.name.replace(g,function(k,j){return h+"]["+b});if(this.id!==""){this.id=this.id.replace(f,function(k,j){return h+"-"+b})}});i.find("label").each(function(){var j=a(this),k=j.attr("for");if(k!==""&&k!==undefined){j.attr("for",k.replace(f,function(m,l){return h+"-"+b}))}});b++});return this};a.fn.kcTabs=function(){var b=function(f){f.preventDefault();var c=a(f.currentTarget),d=c.parent();if(d.hasClass("tabs")){return}c.closest("ul").data("kcTabsPanels").hide().filter(c.data("kcTabsPanel")).show();d.addClass("tabs").siblings().removeClass("tabs")};return this.each(function(){var d=a(this),c=a();$panels=a();d.children().each(function(e){var f=a(this).children("a").first();if(!f.length){return}var g=a(f.attr("href"));if(!g.length){return}$panels=$panels.add(g);c=c.add(f);f.data("kcTabsPanel",g).on("click",b)});d.data({kcTabsPanels:$panels,kcTabsAnchors:c});c.first().trigger("click")})}})(jQuery);